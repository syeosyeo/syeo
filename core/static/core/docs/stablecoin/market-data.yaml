/stablecoin/market-data/price-usd:
    get:
      tags:
        - Stablecoin Market Data
      summary: Price USD (Stablecoin)
      description: This endpoint returns metrics related to the US Dollar(USD) price of the token. We provide four metrics, price_usd_open, USD opening price at the beginning of the window, price_usd_close, USD closing price at the end of the window, price_usd_high, the highest USD price in a given window, and price_usd_low, the lowest USD price in a given window.
      operationId: getPriceUSDSC
      parameters:
        - $ref: './../parameters.yaml#/token'
        - $ref: './../parameters.yaml#/window_mdb'
        - $ref: './../parameters.yaml#/from'
        - $ref: './../parameters.yaml#/to'
        - $ref: './../parameters.yaml#/limit'
    x-code-samples:
      - lang: Shell
        source: >-
          curl
          "https://datapack.cryptoquant.com/v1/stablecoin/market-data/price-usd?window=day&start=191001&limit=2"
      - lang: JavaScript
        source: >-
          fetch("https://datapack.cryptoquant.com/v1/stablecoin/market-data/price-usd?window=day&start=191001&limit=2")
            .then(response => response.json())
            .then(data => console.log(data))
      - lang: NodeJS
        source: |-
          require('axios')
            .get("https://datapack.cryptoquant.com/v1/stablecoin/market-data/price-usd?window=day&start=191001&limit=2")
            .then(response => console.log(response))
      - lang: Ruby
        source: >-
          require 'net/http'

          uri =
          URI("https://datapack.cryptoquant.com/v1/stablecoin/market-data/price-usd?window=day&start=191001&limit=2")

          puts Net::HTTP.get(uri)
      - lang: Python
        source: >-
          import urllib.request

          url =
          "https://datapack.cryptoquant.com/v1/stablecoin/market-data/price-usd?window=day&start=191001&limit=2"

          print(urllib.request.urlopen(url).read())
    responses:
      200:
        $ref: '#/responses/PriceUSDSC'
    security:
      - Bearer Access Token: []


/stablecoin/market-data/capitalization:
  get:
    tags:
      - Stablecoin Market Data
    summary: Capitalization (Stablecoin)
    description: This endpoint returns metrics related to market capitalization. We currently provide market_cap, which is total market capitalization of the token, calculated by multiplying the circulating supply with its USD price(circulating_supply * price_usd_close).
    operationId: getCapitalization
    parameters:
        - $ref: './../parameters.yaml#/token'
        - $ref: './../parameters.yaml#/window'
        - $ref: './../parameters.yaml#/from'
        - $ref: './../parameters.yaml#/to'
        - $ref: './../parameters.yaml#/limit'
    x-code-samples:
      - lang: Shell
        source: >-
          curl
          "https://datapack.cryptoquant.com/v1/stablecoin/market-data/capitalization?window=day&start=191001&limit=2"
      - lang: JavaScript
        source: >-
          fetch("https://datapack.cryptoquant.com/v1/stablecoin/market-data/capitalization?window=day&start=191001&limit=2")
            .then(response => response.json())
            .then(data => console.log(data))
      - lang: NodeJS
        source: |-
          require('axios')
            .get("https://datapack.cryptoquant.com/v1/stablecoin/market-data/capitalization?window=day&start=191001&limit=2")
            .then(response => console.log(response))
      - lang: Ruby
        source: >-
          require 'net/http'

          uri =
          URI("https://datapack.cryptoquant.com/v1/stablecoin/market-data/capitalization?window=day&start=191001&limit=2")

          puts Net::HTTP.get(uri)
      - lang: Python
        source: >-
          import urllib.request

          url =
          "https://datapack.cryptoquant.com/v1/stablecoin/market-data/capitalization?window=day&start=191001&limit=2"

          print(urllib.request.urlopen(url).read())
    responses:
      200:
        $ref: '#/responses/CapitalizationSC'
    security:
      - Bearer Access Token: []


responses:

  PriceUSDSC:
    description: open,close,high,low price data
    content:
      application/json:
        schema:
          $ref: '#/schemas/PriceUSDSCResponse'
        example:
          status:
            code: 200
            message: "success"
          result:
            window: "day"
            data:
              - datetime: "2019-10-01T00:00:00"
                price_usd_open:
                price_usd_high:
                price_usd_low:
                price_usd_close:

              - datetime: "2019-10-02T00:00:00"
                price_usd_open:
                price_usd_high:
                price_usd_low:
                price_usd_close:

  CapitalizationSC:
    description: Market capitalization of the stable coin, calculated by total_supply * price_usd_close.
    content:
      application/json:
        schema:
          $ref: '#/schemas/CapitalizationSCResponse'
        example:
          status:
            code: 200
            message: "success"
          result:
            window: "day"
            data:
              - datetime: "2019-10-01T00:00:00"
                market_cap:

              - datetime: "2019-10-02T00:00:00"
                market_cap:



schemas:

  PriceUSDSCResponse:
    type: object
    required:
      - status
      - result
    properties:
      status:
        $ref: './../basic_schemas.yaml#/Status'
      result:
        type: object
        required:
          - window
          - data
        properties:
          window:
            $ref: './../basic_schemas.yaml#/Window'
          data:
            type: array
            items:
              type: object
              required:
                - price_usd_open
                - price_usd_high
                - price_usd_low
                - price_usd_close
              properties:
                blockheight:
                  $ref: './../basic_schemas.yaml#/Blockheight'
                datetime:
                  $ref: './../basic_schemas.yaml#/Datetime'
                price_usd_open:
                  type: decimal
                  description: USD opening price at the beginning of the window.
                price_usd_high:
                  type: decimal
                  description: USD opening price at the end of the window.
                price_usd_low:
                  type: decimal
                  description: The highest USD price in a given window.
                price_usd_close:
                  type: decimal
                  description: The lowest USD price in a given window.

  CapitalizationSCResponse:
    type: object
    required:
      - status
      - result
    properties:
      status:
        $ref: './../basic_schemas.yaml#/Status'
      result:
        type: object
        required:
          - window
          - data
        properties:
          window:
            $ref: './../basic_schemas.yaml#/Window'
          data:
            type: array
            items:
              type: object
              required:
                - market_cap
              properties:
                blockheight:
                  $ref: './../basic_schemas.yaml#/Blockheight'
                datetime:
                  $ref: './../basic_schemas.yaml#/Datetime'
                market_cap:
                  type: decimal
                  description: Market capitalization of the stable coin, calculated by total_supply * price_usd_close.
